# 2026-02-01 — Project Structure & Plugin Expansion

## Session: Project Structure Reorganization

Created `.claude/` directory structure (skills, runbooks, docs, guidelines, journal). Documented existing 11 tools as skills. Created protocol guidelines for D-Bus, OSC, and future protocols.

## Session: New Protocol Plugins

Added 3 new plugins expanding AppMesh beyond D-Bus/OSC:

- **cdp.php** — Chrome DevTools Protocol (6 tools): target discovery, JS execution, screenshots, navigation, DOM clicks. Requires `websocat`.
- **midi.php** — PipeWire MIDI (8 tools): port listing, connections, ALSA devices, monitoring, virtual ports, MIDI→OSC bridging.
- **websocket.php** — WebSocket gateway (6 tools): server lifecycle, broadcast, auto-generates server script.

All plugins follow same pattern: discovery tools + action tools.

## Session: Config Plugin for Plasma 6.6

Created **config.php** (11 tools) for KDE configuration management:
- Config file CRUD via `kreadconfig6`/`kwriteconfig6`
- Global theme management via `lookandfeeltool`
- Backup/restore of entire KDE configuration
- Plasma 6.6 preparation (theme export skeleton)

**Total**: 48 tools across 7 plugins (dbus:8, osc:3, tts:6, cdp:6, midi:8, websocket:6, config:11).

## Session: Kate D-Bus Research

Documented Kate D-Bus interface — can inject text and open URLs, but cannot read/modify text. Created plugin proposal for KTextEditor D-Bus wrapper (`docs/kate-dbus-plugin-proposal.md`). Feasibility: HIGH — APIs exist in KTextEditor framework, just need D-Bus exposure.

## Session: KMail/Akonadi & Email Skills

- Created `/email` skill (KMail D-Bus compose) and `/tb` skill (Thunderbird CLI compose)
- KMail `openComposer` — use simple 6-param version, not the overloaded one
- Akonadi "collection -1" errors recurring — Thunderbird is the reliable alternative
- Documented Laravel PIM proposal as potential Akonadi replacement
